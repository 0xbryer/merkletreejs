<html lang="en" class=" wizmage-show-html"><head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-qQ+v+W1uJYfDMrQ/cwCVI+AGTsn1yi4rCU6KX45obe52BoF+WiHNeQ11u63iJA05vyivY57xNbhAsyK4/j1ZIQ==" rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-01356238c65ce56a395237b592b58668.css">
  <link crossorigin="anonymous" media="all" integrity="sha512-7yYV8wJ4BPf4U5EUeyvRcyknxBActQrfmqbpWbjd7YFg0IwGo9LqgF+LZDcTkHtRGe9qFHs8K4q+myXUV1PDtA==" rel="stylesheet" href="https://assets-cdn.github.com/assets/github-48c53378d4f1a26f1652c879f8c3cbbf.css">





  <meta name="viewport" content="width=device-width">

  <title>miguelmota/merkle-tree: Construct Merkle Trees and verify proofs in JavaScript.</title>
    <meta name="description" content="Construct Merkle Trees and verify proofs in JavaScript.">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">


    <meta property="og:image" content="https://avatars1.githubusercontent.com/u/168240?s=400&amp;v=4"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="miguelmota/merkle-tree"><meta property="og:url" content="https://github.com/miguelmota/merkle-tree"><meta property="og:description" content="merkle-tree - Construct Merkle Trees and verify proofs in JavaScript.">

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MjYxMzg4Nzk2OjgxMmY2NzM5ZDVjMjYzNGQxODYxNDBhMTA3NjhhNjNjMDQzMTFlMWM2NzdmNTljMmNjYjIxYmY0OWZlNjdiM2Y=--a1a052ee3d3a464921c1b08b6421a916838afb93">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="FB80:7015:16FCB4:22F250:5B6390EF" data-pjax-transient="">




  <meta name="selected-link" value="repo_source" data-pjax-transient="">

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-dimension-request_id" content="FB80:7015:16FCB4:22F250:5B6390EF"><meta name="octolytics-dimension-region_edge" content="sea"><meta name="octolytics-dimension-region_render" content="iad"><meta name="octolytics-actor-id" content="168240"><meta name="octolytics-actor-login" content="miguelmota"><meta name="octolytics-actor-hash" content="a92876a5a21b46e59ea93eed72d4dbcb1b4cb016ad036f512bda2bf219671ac0">
<meta name="analytics-location" content="/<user-name>/<repo-name>" data-pjax-transient="true">



  <meta class="js-ga-set" name="userId" content="5caa46215cfafd09b2473440bc6d299e" %="">

<meta class="js-ga-set" name="dimension1" content="Logged In">




      <meta name="hostname" content="github.com">
    <meta name="user-login" content="miguelmota">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="NjE1NGRiMmYwZmI4YzgyZGRiNjJkZGI4YWQyMmE5NzcxYjk3ZDM5ZTgyMGUzNTBkZmRiYzQ4OTJlYmQ5MGRiOHx7InJlbW90ZV9hZGRyZXNzIjoiMTA0LjE3NS4xOTkuMzkiLCJyZXF1ZXN0X2lkIjoiRkI4MDo3MDE1OjE2RkNCNDoyMkYyNTA6NUI2MzkwRUYiLCJ0aW1lc3RhbXAiOjE1MzMyNTE4MjQsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="DASHBOARD_V2_LAYOUT_OPT_IN,EXPLORE_DISCOVER_REPOSITORIES,UNIVERSE_BANNER,FREE_TRIALS,MARKETPLACE_INSIGHTS,MARKETPLACE_PLAN_RESTRICTION_EDITOR,MARKETPLACE_SEARCH,MARKETPLACE_INSIGHTS_CONVERSION_PERCENTAGES,MARKETPLACE_RETARGETING">

  <meta name="html-safe-nonce" content="1bc055218923f7bd1171453f44e6b0dc961f036f">

  <meta http-equiv="x-pjax-version" content="bd07d8f74cd963f34fa7e8a35a7c98b3">


      <link href="https://github.com/miguelmota/merkle-tree/commits/master.atom" rel="alternate" title="Recent Commits to merkle-tree:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/miguelmota/merkle-tree git https://github.com/miguelmota/merkle-tree.git">

  <meta name="octolytics-dimension-user_id" content="168240"><meta name="octolytics-dimension-user_login" content="miguelmota"><meta name="octolytics-dimension-repository_id" content="98014822"><meta name="octolytics-dimension-repository_nwo" content="miguelmota/merkle-tree"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="98014822"><meta name="octolytics-dimension-repository_network_root_nwo" content="miguelmota/merkle-tree"><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="true">


    <link rel="canonical" href="https://github.com/miguelmota/merkle-tree" data-pjax-transient="">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

<link rel="manifest" href="/manifest.json" crossorigin="use-credentials">

  </head>

  <body class="logged-in env-production emoji-size-boost intent-mouse">


  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>













  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">


</div>



  <div role="main" class="application-main ">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container="">








<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">




  <div class="js-repo-meta-container">



</div>









    <include-fragment src="/miguelmota/merkle-tree/show_partial?partial=tree%2Frecently_touched_branches_list" class="is-error"></include-fragment>












<div class="file-wrap">
  <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/miguelmota/merkle-tree/tree/ab1014ef13c773d4a0ccf99f7e6cb155dfefdadf">Permalink</a>

  <table class="files js-navigation-container js-active-navigation-container" data-pjax="">



  </table>

</div>

  <div class="repo-file-upload-tree-target js-document-dropzone js-upload-manifest-tree-view" data-drop-url="/miguelmota/merkle-tree/upload/master" data-directory-upload="">
    <div class="repo-file-upload-outline">
      <div class="repo-file-upload-slate">
          <svg width="204" height="52" viewBox="0 0 204 52" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="files-lg" class="files-lg" fill="#717171">
              <path class="file-graph" d="M40,42 L40,12 L42,12 L42,40 L64,40 L64,42 L40,42 L40,42 Z M45,37 L45,16 L49,16 L49,37 L45,37 L45,37 Z M51,37 L51,22 L55,22 L55,37 L51,37 L51,37 Z M68.5,48 L35.5,48 C34.7,48 34,47.3 34,46.5 L34,7.5 C34,6.7 34.7,6 35.5,6 L59,6 L70,17 L70,46.5 C70,47.3 69.3,48 68.5,48 L68.5,48 Z M68,18 L58,8 L36,8 L36,46 L68,46 L68,18 L68,18 Z M57,37 L57,27 L61,27 L61,37 L57,37 L57,37 Z"></path>
              <path class="file-zip" d="M17,14 L1,14 C0.4,14 0,14.5 0,15 L0,41 C0,41.5 0.4,42 1,42 L23,42 C23.6,42 24,41.5 24,41 L24,21 L17,14 Z M22,40 L2,40 L2,16 L8,16 L8,18 L10,18 L10,16 L16,16 L22,22 L22,40 Z M8,30.5 C6.8,31.2 6,32.5 6,34 L6,36 L14,36 L14,34 C14,31.8 12.2,30 10,30 L10,28 L8,28 L8,30.5 Z M12,32 L12,34 L8,34 L8,32 L12,32 Z M10,20 L10,18 L12,18 L12,20 L10,20 Z M8,20 L10,20 L10,22 L8,22 L8,20 Z M10,24 L10,22 L12,22 L12,24 L10,24 Z M8,24 L10,24 L10,26 L8,26 L8,24 Z M10,28 L10,26 L12,26 L12,28 L10,28 Z"></path>
              <path class="file-generic" d="M168.5,48 L135.5,48 C134.7,48 134,47.3 134,46.5 L134,7.5 C134,6.7 134.7,6 135.5,6 L159,6 L170,17 L170,46.5 C170,47.3 169.3,48 168.5,48 Z M168,18 L158,8 L136,8 L136,46 L168,46 L168,18 Z M140,35 L140,33 L161,33 L161,35 L140,35 Z M140,30 L140,28 L161,28 L161,30 L140,30 Z M140,25 L140,23 L161,23 L161,25 L140,25 Z M140,17 L140,15 L152,15 L152,17 L140,17 Z M140,40 L140,38 L161,38 L161,40 L140,40 Z"></path>
              <path class="file-acrobat" d="M181,14 C180.5,14 180,14.5 180,15 L180,41 C180,41.5 180.5,42 181,42 L203,42 C203.5,42 204,41.5 204,41 L204,23 L204,21 L197,14 L181,14 Z M200.8,29.9 C200.3,29.8 199.8,29.7 199.3,29.7 C198.5,29.7 197.7,29.8 196.8,29.9 C196.3,29.8 195.7,29.3 194.8,28.6 C193.9,27.9 193.1,26.3 192.2,23.9 C192.5,22.2 192.6,20.9 192.7,19.9 C192.8,18.9 192.8,18.4 192.7,18.4 C192.8,17.6 192.6,17 192.3,16.6 C192,16.2 191.4,16 191,16 L196,16 L202,22 L202,30.4 C201.6,30.2 201.2,30 200.8,29.9 Z M182,16 L190,16 C189.8,16.1 189.6,16.2 189.4,16.4 C189.2,16.6 189,16.9 188.9,17.4 C188.7,18.2 188.6,19.2 188.7,20.3 C188.8,21.5 189.1,22.7 189.4,23.9 C188.9,25.4 188.2,27.2 187.2,29.3 C186.2,31.4 185.6,32.6 185.4,33 C185.1,33.1 184.7,33.3 184,33.6 C183.3,33.9 182.7,34.4 182,35 L182,16 L182,16 Z M195.1,31 C193.8,31.2 192.6,31.4 191.5,31.7 C190.3,32 189.1,32.4 187.8,32.9 L189,30.4 C189.8,28.7 190.4,27.2 190.8,25.8 L190.8,25.9 C191.7,28.2 192.5,29.6 193.1,30.1 C193.8,30.5 194.5,30.8 195.1,31 L195.1,31 Z M184.1,39.2 C185,38.4 186.2,36.9 187.7,34.4 C188.3,34.1 188.9,33.9 189.3,33.7 L190.1,33.4 C191.1,33.1 192,32.9 193,32.7 C194,32.5 195,32.4 196,32.3 C196.9,32.7 197.9,33.1 198.8,33.3 C199.8,33.6 200.6,33.7 201.3,33.8 C201.5,33.8 201.8,34 202,34 L202,40 L182,40 C182.4,39.9 183.6,39.6 184.1,39.2 Z"></path>
              <path class="file-code" d="M111,0 L82,0 C80.9,0 80,0.9 80,2 L80,50 C80,51.1 80.9,52 82,52 L122,52 C123.1,52 124,51.1 124,50 L124,13 L111,0 Z M122,50 L82,50 L82,2 L110,2 L122,14 L122,50 Z M107,18 L116,28 L107,38 L104,35 L111,28 L104,21 L107,18 Z M100,21 L93,28 L100,35 L97,38 L88,28 L97,18 L100,21 Z"></path>
            </g>
          </svg>

          <h2>Drop to upload your files</h2>
      </div>
    </div>
  </div>



  <div id="readme" class="Box Box--condensed instapaper_body md">

      <div class="Box-body p-6">
        <article class="markdown-body entry-content" itemprop="text"><h1 align="center"><a id="user-content-----------" class="anchor" aria-hidden="true" href="#----------"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>
  <br>
  <a target="_blank" href="https://user-images.githubusercontent.com/168240/39508295-ceeb1576-4d96-11e8-90aa-b2a56825567d.png"><img src="https://user-images.githubusercontent.com/168240/39508295-ceeb1576-4d96-11e8-90aa-b2a56825567d.png" alt="Merkle Tree" width="600" style="max-width:100%;"></a>
  <br>
  <br>
  <br>
</h1>
<blockquote>
<p>Construct <a href="https://en.wikipedia.org/wiki/Merkle_tree" rel="nofollow">Merkle Trees</a> and verify proofs in JavaScript.</p>
</blockquote>
<p>Diagram of Merkle Tree</p>
<p><a target="_blank" href="https://github.com/miguelmota/merkle-tree/blob/master/diagrams/merkle-tree.png?raw=true"><img src="https://github.com/miguelmota/merkle-tree/raw/master/diagrams/merkle-tree.png?raw=true" alt="Merkle Tree" width="500" style="max-width:100%;"></a></p>
<p>Diagram of Merkle Tree Proof</p>
<p><a target="_blank" href="https://github.com/miguelmota/merkle-tree/blob/master/diagrams/merkle-tree-proof.png?raw=true"><img src="https://github.com/miguelmota/merkle-tree/raw/master/diagrams/merkle-tree-proof.png?raw=true" alt="Merkle Tree Proof" width="420" style="max-width:100%;"></a></p>
<p>Diagram of Invalid Merkle Tree Proofs</p>
<p><a target="_blank" href="https://github.com/miguelmota/merkle-tree/blob/master/diagrams/merkle-tree-proof-fail.png?raw=true"><img src="https://github.com/miguelmota/merkle-tree/raw/master/diagrams/merkle-tree-proof-fail.png?raw=true" alt="Merkle Tree Proof" width="420" style="max-width:100%;"></a></p>
<p>Diagram of Bitcoin Merkle Tree</p>
<p><a target="_blank" href="https://github.com/miguelmota/merkle-tree/blob/master/diagrams/merkle-tree-bitcoin.png?raw=true"><img src="https://github.com/miguelmota/merkle-tree/raw/master/diagrams/merkle-tree-bitcoin.png?raw=true" alt="Merkle Tree Proof" width="420" style="max-width:100%;"></a></p>
<h1><a id="user-content-install" class="anchor" aria-hidden="true" href="#install"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install</h1>
<div class="highlight highlight-source-shell"><pre>npm install merkletreejs</pre></div>
<h2><a id="user-content-classes" class="anchor" aria-hidden="true" href="#classes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Classes</h2>
<dl>
<dt><a href="#MerkleTree">MerkleTree</a></dt>
<dd></dd>
</dl>
<h2><a id="user-content-objects" class="anchor" aria-hidden="true" href="#objects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Objects</h2>
<dl>
<dt><a href="#MerkleTree">MerkleTree</a> : <code>object</code></dt>
<dd><p>Class reprensenting a Merkle Tree</p>
</dd>
</dl>
<p><a name="user-content-MerkleTree"></a></p>
<h2><a id="user-content-merkletree" class="anchor" aria-hidden="true" href="#merkletree"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MerkleTree</h2>
<p><strong>Kind</strong>: global class</p>
<ul>
<li><a href="#MerkleTree">MerkleTree</a>
<ul>
<li><a href="#new_MerkleTree_new">new MerkleTree(leaves, hashAlgorithm, options)</a></li>
<li><a href="#MerkleTree+getLeaves">.getLeaves()</a> ⇒ <code>Array.&lt;Buffer&gt;</code></li>
<li><a href="#MerkleTree+getLayers">.getLayers()</a> ⇒ <code>Array.&lt;Buffer&gt;</code></li>
<li><a href="#MerkleTree+getRoot">.getRoot()</a> ⇒ <code>Buffer</code></li>
<li><a href="#MerkleTree+getProof">.getProof(leaf, [index])</a> ⇒ <code>Array.&lt;Buffer&gt;</code></li>
<li><a href="#MerkleTree+verify">.verify(proof, targetNode, root)</a> ⇒ <code>Boolean</code></li>
</ul>
</li>
</ul>
<hr>
<p><a name="user-content-new_MerkleTree_new"></a></p>
<h3><a id="user-content-new-merkletreeleaves-hashalgorithm-options" class="anchor" aria-hidden="true" href="#new-merkletreeleaves-hashalgorithm-options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>new MerkleTree(leaves, hashAlgorithm, options)</h3>
<p>Constructs a Merkle Tree.
All nodes and leaves are stored as Buffers.
Lonely leaf nodes are promoted to the next level up without being hashed again.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>leaves</td>
<td><code>Array.&lt;Buffer&gt;</code></td>
<td>Array of hashed leaves. Each leaf must be a Buffer.</td>
</tr>
<tr>
<td>hashAlgorithm</td>
<td><code>function</code></td>
<td>Algorithm used for hashing leaves and nodes</td>
</tr>
<tr>
<td>options</td>
<td><code>Object</code></td>
<td>Additional options</td>
</tr>
<tr>
<td>options.isBitcoinTree</td>
<td><code>Boolean</code></td>
<td>If set to <code>true</code>, constructs the Merkle Tree using the <a href="http://www.righto.com/2014/02/bitcoin-mining-hard-way-algorithms.html" rel="nofollow">Bitcoin Merkle Tree implementation</a>. Enable it when you need to replicate Bitcoin constructed Merkle Trees. In Bitcoin Merkle Trees, single nodes are combined with themselves, and each output hash is hashed again.</td>
</tr></tbody></table>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">MerkleTree</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>merkletreejs<span class="pl-pds">'</span></span>)
<span class="pl-k">const</span> <span class="pl-c1">crypto</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>crypto<span class="pl-pds">'</span></span>)

<span class="pl-k">function</span> <span class="pl-en">sha256</span>(<span class="pl-smi">data</span>) {
  <span class="pl-c"><span class="pl-c">//</span> returns Buffer</span>
  <span class="pl-k">return</span> <span class="pl-smi">crypto</span>.<span class="pl-en">createHash</span>(<span class="pl-s"><span class="pl-pds">'</span>sha256<span class="pl-pds">'</span></span>).<span class="pl-en">update</span>(data).<span class="pl-en">digest</span>()
}

<span class="pl-k">const</span> <span class="pl-c1">leaves</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>].<span class="pl-en">map</span>(<span class="pl-smi">x</span> <span class="pl-k">=&gt;</span> <span class="pl-en">sha256</span>(x))

<span class="pl-k">const</span> <span class="pl-c1">tree</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MerkleTree</span>(leaves, sha256)</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getLeaves"></a></p>
<h3><a id="user-content-merkletreegetleaves--arraybuffer" class="anchor" aria-hidden="true" href="#merkletreegetleaves--arraybuffer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getLeaves() ⇒ <code>Array.&lt;Buffer&gt;</code></h3>
<p>Returns array of leaves of Merkle Tree.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">leaves</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getLeaves</span>()</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getLayers"></a></p>
<h3><a id="user-content-merkletreegetlayers--arraybuffer" class="anchor" aria-hidden="true" href="#merkletreegetlayers--arraybuffer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getLayers() ⇒ <code>Array.&lt;Buffer&gt;</code></h3>
<p>Returns array of all layers of Merkle Tree, including leaves and root.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">layers</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getLayers</span>()</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getRoot"></a></p>
<h3><a id="user-content-merkletreegetroot--buffer" class="anchor" aria-hidden="true" href="#merkletreegetroot--buffer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getRoot() ⇒ <code>Buffer</code></h3>
<p>Returns the Merkle root hash as a Buffer.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">root</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getRoot</span>()</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getProof"></a></p>
<h3><a id="user-content-merkletreegetproofleaf-index--arraybuffer" class="anchor" aria-hidden="true" href="#merkletreegetproofleaf-index--arraybuffer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getProof(leaf, [index]) ⇒ <code>Array.&lt;Buffer&gt;</code></h3>
<p>Returns the proof for a target leaf.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Returns</strong>: <code>Array.&lt;Buffer&gt;</code> - - Array of Buffer hashes.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>leaf</td>
<td><code>Buffer</code></td>
<td>Target leaf</td>
</tr>
<tr>
<td>[index]</td>
<td><code>Number</code></td>
<td>Target leaf index in leaves array. Use if there are leaves containing duplicate data in order to distinguish it.</td>
</tr></tbody></table>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">proof</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getProof</span>(leaves[<span class="pl-c1">2</span>])</pre></div>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">leaves</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>].<span class="pl-en">map</span>(<span class="pl-smi">x</span> <span class="pl-k">=&gt;</span> <span class="pl-en">sha256</span>(x))
<span class="pl-k">const</span> <span class="pl-c1">tree</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MerkleTree</span>(leaves, sha256)
<span class="pl-k">const</span> <span class="pl-c1">proof</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getProof</span>(leaves[<span class="pl-c1">2</span>], <span class="pl-c1">2</span>)</pre></div>
<hr>
<p><a name="user-content-MerkleTree+verify"></a></p>
<h3><a id="user-content-merkletreeverifyproof-targetnode-root--boolean" class="anchor" aria-hidden="true" href="#merkletreeverifyproof-targetnode-root--boolean"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.verify(proof, targetNode, root) ⇒ <code>Boolean</code></h3>
<p>Returns true if the proof path (array of hashes) can connect the target node
to the Merkle root.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a></p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>proof</td>
<td><code>Array.&lt;Buffer&gt;</code></td>
<td>Array of proof Buffer hashes that should connect target node to Merkle root.</td>
</tr>
<tr>
<td>targetNode</td>
<td><code>Buffer</code></td>
<td>Target node Buffer</td>
</tr>
<tr>
<td>root</td>
<td><code>Buffer</code></td>
<td>Merkle root Buffer</td>
</tr></tbody></table>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">root</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getRoot</span>()
<span class="pl-k">const</span> <span class="pl-c1">proof</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getProof</span>(leaves[<span class="pl-c1">2</span>])
<span class="pl-k">const</span> <span class="pl-c1">verified</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">verify</span>(proof, leaves[<span class="pl-c1">2</span>], root)</pre></div>
<hr>
<p><a name="user-content-MerkleTree"></a></p>
<h2><a id="user-content-merkletree--object" class="anchor" aria-hidden="true" href="#merkletree--object"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MerkleTree : <code>object</code></h2>
<p>Class reprensenting a Merkle Tree</p>
<p><strong>Kind</strong>: global namespace</p>
<ul>
<li><a href="#MerkleTree">MerkleTree</a> : <code>object</code>
<ul>
<li><a href="#new_MerkleTree_new">new MerkleTree(leaves, hashAlgorithm, options)</a></li>
<li><a href="#MerkleTree+getLeaves">.getLeaves()</a> ⇒ <code>Array.&lt;Buffer&gt;</code></li>
<li><a href="#MerkleTree+getLayers">.getLayers()</a> ⇒ <code>Array.&lt;Buffer&gt;</code></li>
<li><a href="#MerkleTree+getRoot">.getRoot()</a> ⇒ <code>Buffer</code></li>
<li><a href="#MerkleTree+getProof">.getProof(leaf, [index])</a> ⇒ <code>Array.&lt;Buffer&gt;</code></li>
<li><a href="#MerkleTree+verify">.verify(proof, targetNode, root)</a> ⇒ <code>Boolean</code></li>
</ul>
</li>
</ul>
<hr>
<p><a name="user-content-new_MerkleTree_new"></a></p>
<h3><a id="user-content-new-merkletreeleaves-hashalgorithm-options-1" class="anchor" aria-hidden="true" href="#new-merkletreeleaves-hashalgorithm-options-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>new MerkleTree(leaves, hashAlgorithm, options)</h3>
<p>Constructs a Merkle Tree.
All nodes and leaves are stored as Buffers.
Lonely leaf nodes are promoted to the next level up without being hashed again.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>leaves</td>
<td><code>Array.&lt;Buffer&gt;</code></td>
<td>Array of hashed leaves. Each leaf must be a Buffer.</td>
</tr>
<tr>
<td>hashAlgorithm</td>
<td><code>function</code></td>
<td>Algorithm used for hashing leaves and nodes</td>
</tr>
<tr>
<td>options</td>
<td><code>Object</code></td>
<td>Additional options</td>
</tr>
<tr>
<td>options.isBitcoinTree</td>
<td><code>Boolean</code></td>
<td>If set to <code>true</code>, constructs the Merkle Tree using the <a href="http://www.righto.com/2014/02/bitcoin-mining-hard-way-algorithms.html" rel="nofollow">Bitcoin Merkle Tree implementation</a>. Enable it when you need to replicate Bitcoin constructed Merkle Trees. In Bitcoin Merkle Trees, single nodes are combined with themselves, and each output hash is hashed again.</td>
</tr></tbody></table>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">MerkleTree</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>merkletreejs<span class="pl-pds">'</span></span>)
<span class="pl-k">const</span> <span class="pl-c1">crypto</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>crypto<span class="pl-pds">'</span></span>)

<span class="pl-k">function</span> <span class="pl-en">sha256</span>(<span class="pl-smi">data</span>) {
  <span class="pl-c"><span class="pl-c">//</span> returns Buffer</span>
  <span class="pl-k">return</span> <span class="pl-smi">crypto</span>.<span class="pl-en">createHash</span>(<span class="pl-s"><span class="pl-pds">'</span>sha256<span class="pl-pds">'</span></span>).<span class="pl-en">update</span>(data).<span class="pl-en">digest</span>()
}

<span class="pl-k">const</span> <span class="pl-c1">leaves</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span>].<span class="pl-en">map</span>(<span class="pl-smi">x</span> <span class="pl-k">=&gt;</span> <span class="pl-en">sha256</span>(x))

<span class="pl-k">const</span> <span class="pl-c1">tree</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MerkleTree</span>(leaves, sha256)</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getLeaves"></a></p>
<h3><a id="user-content-merkletreegetleaves--arraybuffer-1" class="anchor" aria-hidden="true" href="#merkletreegetleaves--arraybuffer-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getLeaves() ⇒ <code>Array.&lt;Buffer&gt;</code></h3>
<p>Returns array of leaves of Merkle Tree.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">leaves</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getLeaves</span>()</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getLayers"></a></p>
<h3><a id="user-content-merkletreegetlayers--arraybuffer-1" class="anchor" aria-hidden="true" href="#merkletreegetlayers--arraybuffer-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getLayers() ⇒ <code>Array.&lt;Buffer&gt;</code></h3>
<p>Returns array of all layers of Merkle Tree, including leaves and root.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">layers</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getLayers</span>()</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getRoot"></a></p>
<h3><a id="user-content-merkletreegetroot--buffer-1" class="anchor" aria-hidden="true" href="#merkletreegetroot--buffer-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getRoot() ⇒ <code>Buffer</code></h3>
<p>Returns the Merkle root hash as a Buffer.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">root</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getRoot</span>()</pre></div>
<hr>
<p><a name="user-content-MerkleTree+getProof"></a></p>
<h3><a id="user-content-merkletreegetproofleaf-index--arraybuffer-1" class="anchor" aria-hidden="true" href="#merkletreegetproofleaf-index--arraybuffer-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.getProof(leaf, [index]) ⇒ <code>Array.&lt;Buffer&gt;</code></h3>
<p>Returns the proof for a target leaf.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a>
<strong>Returns</strong>: <code>Array.&lt;Buffer&gt;</code> - - Array of Buffer hashes.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>leaf</td>
<td><code>Buffer</code></td>
<td>Target leaf</td>
</tr>
<tr>
<td>[index]</td>
<td><code>Number</code></td>
<td>Target leaf index in leaves array. Use if there are leaves containing duplicate data in order to distinguish it.</td>
</tr></tbody></table>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">proof</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getProof</span>(leaves[<span class="pl-c1">2</span>])</pre></div>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">leaves</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>].<span class="pl-en">map</span>(<span class="pl-smi">x</span> <span class="pl-k">=&gt;</span> <span class="pl-en">sha256</span>(x))
<span class="pl-k">const</span> <span class="pl-c1">tree</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MerkleTree</span>(leaves, sha256)
<span class="pl-k">const</span> <span class="pl-c1">proof</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getProof</span>(leaves[<span class="pl-c1">2</span>], <span class="pl-c1">2</span>)</pre></div>
<hr>
<p><a name="user-content-MerkleTree+verify"></a></p>
<h3><a id="user-content-merkletreeverifyproof-targetnode-root--boolean-1" class="anchor" aria-hidden="true" href="#merkletreeverifyproof-targetnode-root--boolean-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merkleTree.verify(proof, targetNode, root) ⇒ <code>Boolean</code></h3>
<p>Returns true if the proof path (array of hashes) can connect the target node
to the Merkle root.</p>
<p><strong>Kind</strong>: instance method of <a href="#MerkleTree"><code>MerkleTree</code></a></p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>proof</td>
<td><code>Array.&lt;Buffer&gt;</code></td>
<td>Array of proof Buffer hashes that should connect target node to Merkle root.</td>
</tr>
<tr>
<td>targetNode</td>
<td><code>Buffer</code></td>
<td>Target node Buffer</td>
</tr>
<tr>
<td>root</td>
<td><code>Buffer</code></td>
<td>Merkle root Buffer</td>
</tr></tbody></table>
<p><strong>Example</strong></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">root</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getRoot</span>()
<span class="pl-k">const</span> <span class="pl-c1">proof</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">getProof</span>(leaves[<span class="pl-c1">2</span>])
<span class="pl-k">const</span> <span class="pl-c1">verified</span> <span class="pl-k">=</span> <span class="pl-smi">tree</span>.<span class="pl-en">verify</span>(proof, leaves[<span class="pl-c1">2</span>], root)</pre></div>
<hr>
<h1><a id="user-content-test" class="anchor" aria-hidden="true" href="#test"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test</h1>
<div class="highlight highlight-source-shell"><pre>npm <span class="pl-c1">test</span></pre></div>
<h1><a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notes</h1>
<p>As is, this implemenation is vulnerable to a <a href="https://en.wikipedia.org/wiki/Merkle_tree#Second_preimage_attack" rel="nofollow">second pre-image attack</a>. Use a difference hashing algorithm function for leaves and nodes, so that <code>H(x) != H'(x)</code>.</p>
<p>Also, as is, this implementation is vulnerable to a forgery attack for an unbalanced tree, where the last leaf node can be duplicated to create an artificial balanced tree, resulting in the same Merkle root hash. Do not accept unbalanced tree to prevent this.</p>
<p>More info <a href="https://bitcointalk.org/?topic=102395" rel="nofollow">here</a>.</p>
<h1><a id="user-content-resources" class="anchor" aria-hidden="true" href="#resources"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resources</h1>
<ul>
<li>
<p><a href="http://www.righto.com/2014/02/bitcoin-mining-hard-way-algorithms.html" rel="nofollow">Bitcoin mining the hard way: the algorithms, protocols, and bytes</a></p>
</li>
<li>
<p><a href="https://bitcointalk.org/index.php?topic=403231.msg9054025#msg9054025" rel="nofollow">Bitcoin Talk - Merkle Trees</a></p>
</li>
<li>
<p><a href="https://www.certificate-transparency.org/log-proofs-work" rel="nofollow">How Log Proofs Work</a></p>
</li>
<li>
<p><a href="https://github.com/raiden-network/raiden/blob/f9cf12571891cdf54feb4667cd2fffcb3d5daa89/raiden/mtree.py">Raiden Merkle Tree Implemenation</a></p>
</li>
<li>
<p><a href="https://ethereum.stackexchange.com/questions/559/why-arent-solidity-sha3-hashes-not-matching-what-other-sha3-libraries-produce" rel="nofollow">Why aren't Solidity sha3 hashes not matching what other sha3 libraries produce?</a></p>
</li>
<li>
<p><a href="https://crypto.stackexchange.com/questions/2106/what-is-the-purpose-of-using-different-hash-functions-for-the-leaves-and-interna" rel="nofollow">What is the purpose of using different hash functions for the leaves and internals of a hash tree?</a></p>
</li>
<li>
<p><a href="https://bitcoin.stackexchange.com/questions/50674/why-is-the-full-merkle-path-needed-to-verify-a-transaction" rel="nofollow">Why is the full Merkle path needed to verify a transaction?</a></p>
</li>
<li>
<p><a href="https://bitcoin.stackexchange.com/questions/8443/where-is-double-hashing-performed-in-bitcoin" rel="nofollow">Where is Double hashing performed in Bitcoin?</a></p>
</li>
</ul>
<h1><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h1>
<p>MIT</p>
</article>
      </div>
  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>






  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
    You can’t perform that action at this time.
  </div>



    <script crossorigin="anonymous" integrity="sha512-ZCuUuaCERG6/AdCPvg2qDAGDVKP7KsHnKx3EuTwcIZSLeqJpyqaZZBUmbK7Wbtgar1y1iAlO66Vstl53f/EFOg==" type="application/javascript" src="https://assets-cdn.github.com/assets/frameworks-b83c5ea8e6d3b8ce4839ec986855c7bf.js"></script>

    <script crossorigin="anonymous" async="async" integrity="sha512-QkJ2em2YgUjPT/JspkF1pxBTErfpAG/J1L4Bt860iyvUG+w0pYdghaljYcVYVL96r+SsiwlFJXL6kCeMDw6kLw==" type="application/javascript" src="https://assets-cdn.github.com/assets/github-89c3df7d15d9bd534fd9b0d980fa62cb.js"></script>



  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
  </div>
</div>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>




</body></html>